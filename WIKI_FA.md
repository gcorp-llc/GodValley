# ูฺฉ ูพุฑูฺู GodValley (GodValley Wiki)

ุจู ูฺฉ ุชุฎุตุต ูพุฑูฺู GodValley ุฎูุด ุขูุฏุฏ. ุงู ูุณุชูุฏ ุดุงูู ุฌุฒุฆุงุช ูู ุนูู ู ุฑููุฏูุง ฺฉุงุฑ ูพุฑูฺู ุงุณุช.

## ๐๏ธ ูุนูุงุฑ ุณุณุชู ู ุฑููุฏ ฺฉุงุฑ

ูพุฑูฺู ุจุฑ ูพุงู ูุนูุงุฑ **Microservices** ู **Multi-tenancy** ุจูุง ุดุฏู ุงุณุช. ูุฑ ุณุงุช ุจู ุนููุงู ฺฉ ูุงุญุฏ ูุฌุฒุง ุฏุฑ ูุธุฑ ฺฏุฑูุชู ูโุดูุฏ ฺฉู ููุงุจุน ุฎุงุต ุฎูุฏ ุฑุง ุฏุงุฑุฏ ุงูุง ุงุฒ ฺฉุชุงุจุฎุงููโูุง ูุดุชุฑฺฉ ุจุฑุง ุญูุธ ฺฉูพุงุฑฺฺฏ ุงุณุชูุงุฏู ูโฺฉูุฏ.

### ุฌุฑุงู ุฏุงุฏู (Data Flow):
1. **Frontend**: ุฏุฑุฎูุงุณุชโูุง ฺฉุงุฑุจุฑ ุชูุณุท Next.js ูุฏุฑุช ุดุฏู ู ุจู API Gateway (Traefik) ุงุฑุณุงู ูโุดูุฏ.
2. **Gateway**: ุชุฑุงูฺฉ ุฑุง ุจุฑ ุงุณุงุณ Hostname ุจู ุณุฑูุณ ูุฑุจูุทู ุฏุฑ Kubernetes ูุฏุงุช ูโฺฉูุฏ.
3. **Backend**: ุณุฑูุณโูุง Rust (Actix-web) ุฏุฑุฎูุงุณุช ุฑุง ูพุฑุฏุงุฒุด ฺฉุฑุฏู ู ุฏุฑ ุตูุฑุช ูุงุฒ ุงุฒ ุทุฑู **gRPC** ุจุง ุณุฑูุณโูุง ุฏฺฏุฑ ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ูโฺฉููุฏ.
4. **Storage**: ุฏุงุฏูโูุง ุฏุฑ **ScyllaDB** (ุจุฑุง ุฏุงุฏูโูุง ุญุฌู ู NoSQL) ู **Redis** (ุจุฑุง ฺฉุดูฺฏ ู ุณุฑุนุช ุจุงูุง) ุฐุฎุฑู ูโุดููุฏ.

---

## ๐ ุฑุงูููุง ฺฏุงูโุจูโฺฏุงู ุงุถุงูู ฺฉุฑุฏู ุณุงุช ุฌุฏุฏ

ุจุฑุง ุงุถุงูู ฺฉุฑุฏู ฺฉ ุณุงุช ุฌุฏุฏ ุจู ูพูุชูุฑูุ ูุฑุงุญู ุฒุฑ ุฑุง ุฏูุจุงู ฺฉูุฏ:

1. **ุงุฌุงุฏ ุณุงุฎุชุงุฑ ูพูุดู**:
   ```bash
   mkdir -p services/newsite/apps/api
   mkdir -p services/newsite/web
   ```
2. **ุชูุธู ุจฺฉโุงูุฏ (Rust)**:
   - ฺฉ ูุงู `Cargo.toml` ุฏุฑ `services/newsite/apps/api` ุงุฌุงุฏ ฺฉูุฏ.
   - ูุงู ูพฺฉุฌ ุฑุง ุจู ุนููุงู ูุซุงู `newsite-api` ุจฺฏุฐุงุฑุฏ.
   - ูุณุฑ ุขู ุฑุง ุฏุฑ `Cargo.toml` ุงุตู ุฏุฑ ุฑุดู ูพุฑูฺู ุงุถุงูู ฺฉูุฏ.
3. **ุชูุธู ูุฑุงูุชโุงโูุฏ (Next.js)**:
   - ูพุฑูฺู Next.js ุฎูุฏ ุฑุง ุฏุฑ `services/newsite/web` ูุฑุงุฑ ุฏูุฏ.
   - ูุทูุฆู ุดูุฏ `next.config.js` ุฎุฑูุฌ ุฑุง ุฑู `standalone` ุชูุธู ฺฉุฑุฏู ุงุณุช.
   - ุงฺฏุฑ ุงุฒ TypeScript ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุงุจุณุชฺฏโูุง `typescript` ู `@types/*` ุฑุง ุจู `package.json` ุงุถุงูู ฺฉูุฏ.
4. **ุชุนุฑู ุฏุฑ ุฒุฑุณุงุฎุช (Kubernetes)**:
   - ฺฉ ูพูุดู ุฌุฏุฏ ุฏุฑ `k8s/sites/newsite` ุงุฌุงุฏ ฺฉูุฏ.
   - ูุงูโูุง `kustomization.yaml` ู ูพฺโูุง ูุฑุจูุท ุจู Namespace ุฌุฏุฏ ุฑุง ุชุนุฑู ฺฉูุฏ.
5. **ุจูโุฑูุฒุฑุณุงู Makefile**:
   - ูุงู ุณุงุช ุฌุฏุฏ ุฑุง ุจู ูุชุบุฑ `SITES` ุฏุฑ `Makefile` ุฑุดู ุงุถุงูู ฺฉูุฏ.

---

## ๐ก ุฌุฒุฆุงุช ูู ุงุฌุฒุงุก

### 1. gRPC ู Protobuf
ุงุฑุชุจุงุทุงุช ุฏุงุฎู ุณุฑูุณโูุง ุงุฒ ูพุฑูุชฺฉู gRPC ุงุณุชูุงุฏู ูโฺฉูุฏ. ูุงูโูุง ุชุนุฑู ูพุฑูุชฺฉู ุฏุฑ ูพูุดู `protos/` ูุฑุงุฑ ุฏุงุฑูุฏ.
- ุจุฑุง ุชุบุฑ ุฏุฑ ูุชุฏูุงุ ูุงู `.proto` ูุฑุจูุทู ุฑุง ูุฑุงุด ฺฉูุฏ.
- ฺฉุฑุช `common-proto` ูุธูู ฺฉุงููพุงู ู ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ฺฉุฏูุง ุชููุฏ ุดุฏู ุฑุง ุจุฑ ุนูุฏู ุฏุงุฑุฏ.

### 2. ScyllaDB (ูพุงฺฏุงู ุฏุงุฏู)
ูุง ุงุฒ ScyllaDB ุจู ุฏูู ุณุฑุนุช ุจุณุงุฑ ุจุงูุง ู ุณุงุฒฺฏุงุฑ ุจุง Cassandra ุงุณุชูุงุฏู ูโฺฉูู.
- ูุฑ ุณุงุช ุฏุงุฑุง Keyspace ุงุฎุชุตุงุต ุฎูุฏ ุงุณุช.
- ุชูุธูุงุช ุงุชุตุงู ุฏุฑ ูุชุบุฑูุง ูุญุท (`SCYLLA_URI`) ุชุนุฑู ูโุดูุฏ.

### 3. Redis (ฺฉุดูฺฏ)
ุจุฑุง ูุฏุฑุช ูุดุณุชโูุง (Sessions) ู ฺฉุด ฺฉุฑุฏู ูุชุงุฌ ฺฉูุฆุฑโูุง ุณูฺฏู ุงุฒ Redis ุงุณุชูุงุฏู ูโุดูุฏ.
- ุฏุฑ ูุญุท ุชูุณุนูุ ูุฑ ุณุงุช ฺฉ ฺฉุงูุชูุฑ Redis ูุฌุฒุง ุฏุงุฑุฏ.

### 4. Traefik (Gateway)
Traefik ุจู ุนููุงู Ingress Controller ุนูู ฺฉุฑุฏู ู ูุธูู ูุฏุฑุช SSL/TLS ู ูุณุฑุงุจ ููุดููุฏ ุฑุง ุจุฑ ุนูุฏู ุฏุงุฑุฏ.

---

## ๐ ูพููโูุง ูุฏุฑุช ู ฺฏุฒุงุฑุดโฺฏุฑ

### ูุงูุชูุฑูฺฏ ุฒุฑุณุงุฎุช (Grafana)
- ุงุฒ ุทุฑู ุฏุงุดุจูุฑุฏูุง Grafana ูโุชูุงูุฏ ูุถุนุช ุณูุงูุช ุณุฑูุฑูุงุ ูุฒุงู ูุตุฑู ูพููุง ุจุงูุฏ ู ุฎุทุงูุง HTTP ุฑุง ูุดุงูุฏู ฺฉูุฏ.
- ูุฒุฑูู ู ูพุณูุฑุฏ ูพุดโูุฑุถ: `admin` / `admin`.

### ูพูู ุงุฏูู ุงุฎุชุตุงุต ุณุงุชโูุง
- ูุฑ ุณุงุช ูโุชูุงูุฏ ฺฉ ุจุฎุด `/admin` ุฏุงุดุชู ุจุงุดุฏ.
- ุฏุฑ ูพุฑูฺู ููููู (GodValley)ุ ุงู ุจุฎุด ุฏุฑ ูุณุฑ `services/godvalley/web/src/app/admin` ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช.
- ุงู ูพููโูุง ูุณุชููุงู ุจู API ุจฺฉโุงูุฏ ูุชุตู ุดุฏู ู ุขูุงุฑูุง ุจุฒูุณ ุฑุง ููุงุด ูโุฏููุฏ.

---

## ๐๏ธ ุงุณุชุงูุฏุงุฑุฏูุง ฺฉุฏููุณ (Clean Architecture)

ุฏุฑ ุจุฎุด Rustุ ูุง ุงุฒ ุณุงุฎุชุงุฑ ูุงูโุจูุฏ ุดุฏู ุงุณุชูุงุฏู ูโฺฉูู:
- **Handlers**: ูุฏุฑุช ุฏุฑุฎูุงุณุชโูุง HTTP ู ูุฑูุฏโูุง.
- **Grpc**: ูพุงุฏูโุณุงุฒ ุณุฑูุณโูุง ุฏุงุฎู.
- **State**: ูุฏุฑุช ูุถุนุช ุจุฑูุงูู ู ุงุชุตุงูุงุช ุฏุชุงุจุณ.
- **Domain/Models**: ุชุนุฑู ุณุงุฎุชุงุฑ ุฏุงุฏูโูุง ู ููุงูู ุจุฒูุณ.
